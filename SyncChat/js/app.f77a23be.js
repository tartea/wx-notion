(function(){var e={9787:function(e,t,o){"use strict";var a=o(5130),l=o(6768);function n(e,t,o,a,n,r){const c=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.Wv)(c)}var r={name:"App",components:{}},c=o(1241);const s=(0,c.A)(r,[["render",n]]);var i=s,u=o(9437),d=(o(5331),o(5550),o(2357)),p=(o(2603),o(7456),o(813)),k=(o(4896),o(4114),o(144)),C=o(7477),v=o(4373),b=o(167);o(9436);const h=v.A.create({baseURL:"https://i.weread.qq.com",timeout:5e3});h.interceptors.request.use((e=>e),(e=>(console.log("Request Error:",e),Promise.reject(e)))),h.interceptors.response.use((e=>200===e.status?Promise.resolve(e.data):Promise.reject(e.data)),(e=>(401===e.response.status?zt.push({path:"/login",replace:!0}):(0,b.nk)({message:"请求失败",type:"error"}),Promise.reject(e))));var g=h;async function f(e){return g({baseURL:"https://weread.qq.com",url:"/web/user?userVid=50157",method:"get"})}var m=o(595);(0,m.A)();const y=async e=>{await chrome.storage.sync.set({wx_notion_config:e})},w=async()=>{const e=await chrome.storage.sync.get("wx_notion_config");return e["wx_notion_config"]},x=async()=>{const e=await chrome.cookies.getAll({domain:"weread.qq.com"});if(e&&e.length>0)for(const t of e)if("wr_vid"===t["name"])return t["value"];return null},_=async()=>{const e=await chrome.storage.sync.get("chrome_active");return e["chrome_active"]};o(3169);var L=o(1387);const T=e=>((0,l.Qi)("data-v-30c7e3e0"),e=e(),(0,l.jt)(),e),I=T((()=>(0,l.Lk)("div",{class:"flex-grow"},null,-1)));var F={__name:"Home",setup(e){const t=(0,k.KR)("bookHome"),o=((0,k.KR)("buy"),(0,k.KR)(""),(0,k.KR)(""),(0,k.KR)("")),a=(0,k.Kh)({avatarUrl:"",authorName:""}),n=(0,k.KR)(""),r=(0,L.rd)();(0,l.sV)((async()=>{o.value=await _(),n.value=await x();const e=await f(n.value);void 0!==e&&void 0==e.errCode?(a.authorName=e.name,a.avatarUrl=e.avatar,r.replace({path:"/bookHome"})):r.push({path:"/login",replace:!0})}));const c=e=>{"noRouter"!==e&&r.replace({path:e})};return(e,o)=>{const n=p.tk,r=u.ct,s=d.zv,i=u.lj,v=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(i,{"default-active":t.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1,onSelect:c},{default:(0,l.k6)((()=>[I,(0,l.bF)(r,{index:"/bookHome"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{size:30},{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(C.oCE))])),_:1}),(0,l.eW)(" 首页")])),_:1}),(0,l.bF)(r,{index:"/setting"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{size:30},{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(C.B5R))])),_:1}),(0,l.eW)("设置 ")])),_:1}),(0,l.bF)(r,{index:"noRouter",disabled:"",class:"author-logo"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:40,src:a.avatarUrl},null,8,["src"])])),_:1})])),_:1},8,["default-active"]),(0,l.bF)(v)],64)}}};const S=(0,c.A)(F,[["__scopeId","data-v-30c7e3e0"]]);var K=S,R=o(2e3),V=(o(2534),o(4577)),j=(o(213),o(1348)),A=(o(8450),o(4232));o(3375),o(9225),o(3972),o(9209),o(5714),o(7561),o(6197);async function M(){const e=()=>g({url:"/user/notebooks",method:"get"}),t=async()=>{const e=await v.A.get("json/notebooks.json");return e.data};return X(e,t)}async function Z(e){const t=()=>g({url:"/book/bookmarklist?bookId="+e,method:"get"}),o=async()=>{const e=await v.A.get("json/bookmarklist.json");return e.data},a=await X(t,o),l={};if(a){a.book&&(l["bookTitle"]=a.book.title||"",l["bookAuthor"]=a.book.author||"",l["bookCover"]=a.book.cover||"",l["bookmarklistCount"]=a.updated&&a.updated.length>0?a.updated.length:0);const e={};if(a.updated&&a.updated.length>0)for(let t of a.updated){const o=t.chapterUid+"";e.hasOwnProperty(o)?e[o]["children"].push({type:"quote",content:t.markText,createTime:t.createTime}):e[o]={headerTitle:t.chapterName||"",children:[{type:"quote",content:t.markText,createTime:t.createTime}]}}l["children"]=e}return l}async function q(e){const t=()=>g({url:"/review/list?listType=11&mine=1&synckey=0&listMode=0&bookId="+e,method:"get"}),o=async()=>{const e=await v.A.get("json/review_list.json");return e.data},a=await X(t,o),l={};let n=0;if(a&&a.reviews&&a.reviews.length>0){n=a.reviews.length;for(let e of a.reviews){const t=e.review,o=t.chapterUid+"";l.hasOwnProperty(o)?(l[o]["children"].push({type:"quote",content:t.abstract,calloutContent:t.content,createTime:t.createTime}),l[o]["children"].push({type:"callout",content:t.content,createTime:t.createTime})):l[o]={headerTitle:t.chapterTitle,children:[{type:"quote",content:t.abstract,calloutContent:t.content,createTime:t.createTime},{type:"callout",content:t.content,createTime:t.createTime}]}}}return{children:l,reviewCount:n}}async function E(e){const t=await Z(e),o=await q(e),a=[...Object.keys(t.children),...Object.keys(o.children)],l=[...new Set(a.sort(((e,t)=>e-t)))],n=[];for(const r of l){const e=t.children[r]||{},a=o.children[r]||{},l=[...e["children"]||[],...a["children"]||[]];n.push({headerTitle:e["headerTitle"]||a["headerTitle"]||"",children:l.sort(((e,t)=>{const o=e.createTime||32472115200,a=t.createTime||32472115200;return o-a}))})}return{bookTitle:t.bookTitle,bookAuthor:t.bookAuthor,bookCover:t.bookCover,bookmarklistCount:t.bookmarklistCount,reviewCount:o.reviewCount,chapterChildren:n}}function X(e,t){return e()}const O=v.A.create({baseURL:"https://api.notion.com",timeout:5e3});async function U(e,t,o,a,l,n,r){const c=[{object:"block",type:"paragraph",paragraph:{rich_text:[{type:"text",text:{content:"作者："+a}}]}}];for(const p of r){const e=[];for(const o of p.children)"quote"===o.type?e.push({object:"block",type:"quote",quote:{rich_text:[{type:"text",text:{content:o.content}}]}}):"callout"===o.type&&e.push({object:"block",type:"callout",callout:{rich_text:[{type:"text",text:{content:o.content}}]}});const t={object:"block",type:"paragraph",paragraph:{rich_text:[{type:"text",text:{content:p.headerTitle}}],children:e}};c.push(t)}let s={emoji:"🥬"};l&&l.length>0&&(s={type:"external",external:{url:l}});let i={};"page"===n?i={page_id:e}:"database"===n&&(i={database_id:e});const u={parent:i,icon:s,properties:{title:{type:"title",title:[{type:"text",text:{content:o}}]}},children:c},d=await O({url:"/v1/pages",method:"POST",headers:{Authorization:"Bearer "+t,"Notion-Version":"2022-06-28","Content-Type":"application/json"},data:u});return d.url}async function B(e,t){return await O({url:"/v1/search",method:"POST",headers:{Authorization:"Bearer "+t,"Notion-Version":"2022-06-28","Content-Type":"application/json"},data:{filter:{value:e,property:"object"},sort:{direction:"descending",timestamp:"last_edited_time"}}})}O.interceptors.response.use((e=>200===e.status?Promise.resolve(e.data):Promise.reject(e.data)),(e=>{(0,b.nk)({message:"请求失败请稍后重试。。。",type:"error"})}));var W=o(5320);o(694);const z=e=>((0,l.Qi)("data-v-40a66c22"),e=e(),(0,l.jt)(),e),P={class:"sync-setting-title"},D={class:"sync-logo"},H=["onClick"],N=z((()=>(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 16 16",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.875C8.82843 3.875 9.5 3.20343 9.5 2.375C9.5 1.54657 8.82843 0.875 8 0.875C7.17157 0.875 6.5 1.54657 6.5 2.375C6.5 3.20343 7.17157 3.875 8 3.875ZM5.83234 2.72826C5.63677 2.36312 5.18223 2.22565 4.81709 2.42122C4.62229 2.52556 4.43277 2.6394 4.2492 2.76229C3.88195 3.00815 3.53953 3.28953 3.22703 3.60203C2.64333 4.18573 2.17011 4.87183 1.83335 5.62635C1.64594 6.04623 1.5018 6.485 1.4037 6.93682C1.3529 7.17079 1.31452 7.40792 1.28882 7.64744C1.24462 8.05929 1.54266 8.42898 1.95451 8.47318C2.36636 8.51737 2.73606 8.21933 2.78025 7.80748C2.80025 7.62118 2.83008 7.43687 2.86955 7.2551C2.94571 6.90431 3.05759 6.56373 3.20311 6.23771C3.46491 5.65114 3.83318 5.11719 4.28769 4.66269C4.53109 4.41929 4.79776 4.20015 5.08365 4.00876C5.22645 3.91316 5.37384 3.82463 5.5253 3.74351L5.54225 3.73415C5.89466 3.53376 6.02485 3.08769 5.83234 2.72826ZM12.2677 12.6583C12.0138 12.331 11.5426 12.2716 11.2154 12.5255C11.0106 12.6844 10.7945 12.828 10.5687 12.9549C9.79101 13.3922 8.91329 13.625 8 13.625C7.08671 13.625 6.20899 13.3922 5.4313 12.9549C5.20551 12.828 4.98936 12.6844 4.78463 12.5255C4.45738 12.2716 3.98624 12.331 3.7323 12.6583C3.47837 12.9855 3.5378 13.4566 3.86505 13.7106C4.12808 13.9147 4.40587 14.0992 4.69616 14.2624C5.69688 14.8251 6.82752 15.125 8 15.125C9.17248 15.125 10.3031 14.8251 11.3038 14.2624C11.5941 14.0992 11.8719 13.9147 12.135 13.7106C12.4622 13.4566 12.5216 12.9855 12.2677 12.6583ZM10.1677 2.72826C10.3632 2.36312 10.8178 2.22565 11.1829 2.42122C11.3777 2.52556 11.5672 2.6394 11.7508 2.76229C12.1181 3.00815 12.4605 3.28953 12.773 3.60203C13.3567 4.18573 13.8299 4.87183 14.1667 5.62635C14.3541 6.04623 14.4982 6.485 14.5963 6.93682C14.6471 7.17079 14.6855 7.40792 14.7112 7.64744C14.7554 8.05929 14.4573 8.42898 14.0455 8.47318C13.6336 8.51737 13.2639 8.21933 13.2197 7.80748C13.1998 7.62118 13.1699 7.43687 13.1305 7.2551C13.0543 6.90431 12.9424 6.56373 12.7969 6.23771C12.5351 5.65114 12.1668 5.11719 11.7123 4.66269C11.4689 4.41929 11.2022 4.20015 10.9164 4.00876C10.7939 3.92682 10.6682 3.85007 10.5394 3.77872L10.4747 3.74351C10.1096 3.54794 9.97209 3.0934 10.1677 2.72826ZM15.125 10.6875C15.125 11.5159 14.4534 12.1875 13.625 12.1875C12.7966 12.1875 12.125 11.5159 12.125 10.6875C12.125 9.85907 12.7966 9.1875 13.625 9.1875C14.4534 9.1875 15.125 9.85907 15.125 10.6875ZM2.375 12.1875C3.20343 12.1875 3.875 11.5159 3.875 10.6875C3.875 9.85907 3.20343 9.1875 2.375 9.1875C1.54657 9.1875 0.875 9.85907 0.875 10.6875C0.875 11.5159 1.54657 12.1875 2.375 12.1875Z",fill:"black"})],-1))),Q=[N],G={class:"show-notion-dialog"},$=z((()=>(0,l.Lk)("svg",{fill:"none",height:"94",viewBox:"0 0 97 94",width:"97",xmlns:"http://www.w3.org/2000/svg",class:"notion-svg"},[(0,l.Lk)("g",{fill:"#f9e44b"},[(0,l.Lk)("ellipse",{cx:"11.9076",cy:"45.9248","fill-opacity":".8",opacity:".674735",rx:"4.00844",ry:"4"}),(0,l.Lk)("ellipse",{cx:"30.8972",cy:"90.1408","fill-opacity":".8",opacity:".22905",rx:"3.79792",ry:"3.78993"}),(0,l.Lk)("ellipse",{cx:"72.6744",cy:"33.2917","fill-opacity":".8",opacity:".484235",rx:"2.00422",ry:"2"}),(0,l.Lk)("ellipse",{cx:"67.6105",cy:"83.8242","fill-opacity":".8",opacity:".737816",rx:"3.00633",ry:"3"})]),(0,l.Lk)("path",{d:"m45.4054 20.0436s-3.9919 2.3785-8.1341-1.0833-2.9464-11.07293 2.7061-12.95131c5.6525-1.87839 9.2382 7.98821.6597 8.67541-8.5784.6872-11.9683-12.79231-11.9683-12.79231",opacity:".588309",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{d:"m7.94299 72.1455-5.94299 2.898",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{d:"m81.1293 55.7027s.7132 4.1129 3.7551 3.721c3.0419-.392 6.6574-7.6925 9.9593-3.721",opacity:".636533",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{"clip-rule":"evenodd",d:"m28.3143 53.9309c0-10.2334 8.2959-18.5293 18.5294-18.5293 10.2336 0 18.5294 8.2959 18.5294 18.5293s-8.2958 18.5293-18.5294 18.5293c-10.2335 0-18.5294-8.2959-18.5294-18.5293zm27.6524-6.4684c-.6394-.6527-1.6869-.6634-2.3396-.024l-9.3123 9.1231-4.2546-4.1669-.036-.0343c-.6548-.6044-1.6759-.5823-2.3036.0586-.6393.6528-.6284 1.7002.0244 2.3396l5.4124 5.3009.0361.0343c.6451.5955 1.648.584 2.2793-.0345l10.4699-10.2573.035-.0352c.6179-.6421.6168-1.6635-.011-2.3043z",fill:"#f9e44b","fill-rule":"evenodd"})],-1))),J=z((()=>(0,l.Lk)("div",{class:"font-black-success"},"同步成功",-1)));var Y={__name:"sync_all",props:["bookId"],setup(e){const t=e,o=(0,k.KR)([]),a=(0,k.KR)(!1),n=(0,k.KR)(""),r=(0,k.KR)("");(0,l.sV)((async()=>{const e=await w();e&&(o.value=[...e]),r.value=await _()}));const c=async e=>{const o=W.Ks.service({lock:!0,text:"正在同步中...",background:"rgba(0, 0, 0, 0.7)"});try{const o=await E(t.bookId);let l=0;for(const e of o.chapterChildren)l+=e.children.filter((e=>"quote"===e.type)).length;n.value=await U(e.pageId,e.pageSecret,o.bookTitle,o.bookAuthor,o.bookCover,e.pageSyncType,[...o.chapterChildren]),a.value=!0}finally{o.close()}},s=()=>{window.open(n.value,"_blank")};return(e,t)=>{const n=V.R7,r=R.kZ;return(0,l.uX)(),(0,l.CE)(l.FK,null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"sync-card",key:t},[(0,l.Lk)("div",P,(0,A.v_)(e.pageTitle),1),(0,l.Lk)("div",D,[(0,l.bF)(n,{effect:"dark",content:"同步",placement:"top-start"},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{type:"button",style:{border:"none"},onClick:t=>c(e)},Q,8,H)])),_:2},1024)])])))),128)),(0,l.bF)(r,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),"close-on-press-escape":!1,width:"400"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",G,[$,J,(0,l.Lk)("div",{onClick:t[0]||(t[0]=e=>s()),class:"view-notion-url"},"立即查看")])])),_:1},8,["modelValue"])],64)}}};const ee=(0,c.A)(Y,[["__scopeId","data-v-40a66c22"]]);var te=ee;const oe=e=>((0,l.Qi)("data-v-d624bf08"),e=e(),(0,l.jt)(),e),ae={class:"content"},le={class:"wx-list"},ne={class:"wx-book-cover"},re={class:"image-slot"},ce={class:"wx-book-info"},se={class:"wx-book-header"},ie={class:"wx-book-title"},ue=["onClick"],de=oe((()=>(0,l.Lk)("button",{type:"button",class:"wx-open-book wx-open-book-button"},[(0,l.Lk)("svg",{class:"wx-open-book-button",stroke:"currentColor",fill:"none","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round",height:"18",width:"18",xmlns:"http://www.w3.org/2000/svg"},[(0,l.Lk)("path",{class:"wx-open-book-button",d:"m9 18 6-6-6-6"})])],-1))),pe=[de],ke={style:{color:"rgb(158, 156, 156)"}},Ce={class:"wx-book-comment"},ve={class:"wx-book-comment-idea"},be={class:"text-foreground font-bold text-lg"},he=oe((()=>(0,l.Lk)("div",{class:"wx-gap"},"|",-1))),ge={class:"wx-gap"},fe={class:"text-foreground font-bold text-lg"},me=["onClick"],ye=oe((()=>(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 16 16",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.875C8.82843 3.875 9.5 3.20343 9.5 2.375C9.5 1.54657 8.82843 0.875 8 0.875C7.17157 0.875 6.5 1.54657 6.5 2.375C6.5 3.20343 7.17157 3.875 8 3.875ZM5.83234 2.72826C5.63677 2.36312 5.18223 2.22565 4.81709 2.42122C4.62229 2.52556 4.43277 2.6394 4.2492 2.76229C3.88195 3.00815 3.53953 3.28953 3.22703 3.60203C2.64333 4.18573 2.17011 4.87183 1.83335 5.62635C1.64594 6.04623 1.5018 6.485 1.4037 6.93682C1.3529 7.17079 1.31452 7.40792 1.28882 7.64744C1.24462 8.05929 1.54266 8.42898 1.95451 8.47318C2.36636 8.51737 2.73606 8.21933 2.78025 7.80748C2.80025 7.62118 2.83008 7.43687 2.86955 7.2551C2.94571 6.90431 3.05759 6.56373 3.20311 6.23771C3.46491 5.65114 3.83318 5.11719 4.28769 4.66269C4.53109 4.41929 4.79776 4.20015 5.08365 4.00876C5.22645 3.91316 5.37384 3.82463 5.5253 3.74351L5.54225 3.73415C5.89466 3.53376 6.02485 3.08769 5.83234 2.72826ZM12.2677 12.6583C12.0138 12.331 11.5426 12.2716 11.2154 12.5255C11.0106 12.6844 10.7945 12.828 10.5687 12.9549C9.79101 13.3922 8.91329 13.625 8 13.625C7.08671 13.625 6.20899 13.3922 5.4313 12.9549C5.20551 12.828 4.98936 12.6844 4.78463 12.5255C4.45738 12.2716 3.98624 12.331 3.7323 12.6583C3.47837 12.9855 3.5378 13.4566 3.86505 13.7106C4.12808 13.9147 4.40587 14.0992 4.69616 14.2624C5.69688 14.8251 6.82752 15.125 8 15.125C9.17248 15.125 10.3031 14.8251 11.3038 14.2624C11.5941 14.0992 11.8719 13.9147 12.135 13.7106C12.4622 13.4566 12.5216 12.9855 12.2677 12.6583ZM10.1677 2.72826C10.3632 2.36312 10.8178 2.22565 11.1829 2.42122C11.3777 2.52556 11.5672 2.6394 11.7508 2.76229C12.1181 3.00815 12.4605 3.28953 12.773 3.60203C13.3567 4.18573 13.8299 4.87183 14.1667 5.62635C14.3541 6.04623 14.4982 6.485 14.5963 6.93682C14.6471 7.17079 14.6855 7.40792 14.7112 7.64744C14.7554 8.05929 14.4573 8.42898 14.0455 8.47318C13.6336 8.51737 13.2639 8.21933 13.2197 7.80748C13.1998 7.62118 13.1699 7.43687 13.1305 7.2551C13.0543 6.90431 12.9424 6.56373 12.7969 6.23771C12.5351 5.65114 12.1668 5.11719 11.7123 4.66269C11.4689 4.41929 11.2022 4.20015 10.9164 4.00876C10.7939 3.92682 10.6682 3.85007 10.5394 3.77872L10.4747 3.74351C10.1096 3.54794 9.97209 3.0934 10.1677 2.72826ZM15.125 10.6875C15.125 11.5159 14.4534 12.1875 13.625 12.1875C12.7966 12.1875 12.125 11.5159 12.125 10.6875C12.125 9.85907 12.7966 9.1875 13.625 9.1875C14.4534 9.1875 15.125 9.85907 15.125 10.6875ZM2.375 12.1875C3.20343 12.1875 3.875 11.5159 3.875 10.6875C3.875 9.85907 3.20343 9.1875 2.375 9.1875C1.54657 9.1875 0.875 9.85907 0.875 10.6875C0.875 11.5159 1.54657 12.1875 2.375 12.1875Z",fill:"black"})],-1))),we=[ye];var xe={__name:"book_home",setup(e){const t=(0,L.rd)(),o=(0,k.KR)(!1),a=(0,k.KR)(""),n=(0,k.KR)([]);(0,l.sV)((async()=>{const e=await M();if(e&&e.totalBookCount>0)for(const t of e.books)n.value.push({bookId:t.bookId,title:t.book.title,author:t.book.author,cover:t.book.cover,noteCount:t.noteCount,reviewCount:t.reviewCount})}));const r=e=>{t.push({name:"BookDetail",params:{bookId:e.bookId}})},c=e=>{o.value=!0,a.value=e.bookId};return(e,t)=>{const s=p.tk,i=j.Zq,u=V.R7,d=R.kZ;return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",ae,[(0,l.Lk)("div",le,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"wx-card",key:t},[(0,l.Lk)("div",ne,[(0,l.bF)(i,{src:e.cover},{error:(0,l.k6)((()=>[(0,l.Lk)("div",re,[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(C.VIg))])),_:1})])])),_:2},1032,["src"])]),(0,l.Lk)("div",ce,[(0,l.Lk)("div",se,[(0,l.Lk)("div",ie,(0,A.v_)(e.title||""),1),(0,l.Lk)("div",{onClick:t=>r(e)},pe,8,ue)]),(0,l.Lk)("div",ke,(0,A.v_)(e.author||""),1),(0,l.Lk)("div",Ce,[(0,l.Lk)("div",ve,[(0,l.Lk)("div",null,[(0,l.Lk)("span",be,(0,A.v_)(e.noteCount||0)+"条划线 ",1)]),he,(0,l.Lk)("div",ge,[(0,l.Lk)("span",fe,(0,A.v_)(e.reviewCount||0)+"条想法 ",1)])]),(0,l.Lk)("div",null,[(0,l.bF)(u,{effect:"dark",content:"同步所有",placement:"top-start"},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{type:"button",style:{border:"none"},class:"wx-sync",onClick:t=>c(e)},we,8,me)])),_:2},1024)])])])])))),128))])]),(0,l.bF)(d,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),title:"同步","close-on-press-escape":!1,width:"800"},{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(te),{bookId:a.value},null,8,["bookId"])])),_:1},8,["modelValue"])],64)}}};const _e=(0,c.A)(xe,[["__scopeId","data-v-d624bf08"]]);var Le=_e;const Te=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,o="x"==e?t:3&t|8;return o.toString(16)}));var Ie=o(2195),Fe=(o(8642),o(3275)),Se=(o(670),o(8830),o(3597),o(1702)),Ke=(o(9648),o(5056)),Re=(o(9092),o(3003),o(5437));o(8781),o(7819);const Ve=e=>((0,l.Qi)("data-v-0d14c6a7"),e=e(),(0,l.jt)(),e),je={class:"setting-form"},Ae=Ve((()=>(0,l.Lk)("div",{class:"setting-form-header"},[(0,l.Lk)("svg",{t:"1718705883397",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5094",width:"40",height:"40"},[(0,l.Lk)("path",{d:"M647.165837 2.332635L78.85493 44.179432C33.04873 48.138835 17.074585 78.005024 17.074585 113.810318v621.148461c0 27.886487 9.966774 51.745305 33.893858 83.625329l133.595729 173.189762c21.947382 27.886487 41.88093 33.859725 83.795993 31.880024l659.957441-39.832963c55.807107-3.959403 71.781251-29.866189 71.781251-73.658555V211.361824c0-22.630038-8.976923-29.1494-35.3957-48.468558a1594.683818 1594.683818 0 0 1-4.505528-3.276748L778.781865 32.198823C734.8871 0.387066 716.967387-3.640603 647.165837 2.332635zM283.310326 199.92734c-53.895671 3.618075-66.115209 4.437262-96.732319-20.377274l-77.822755-61.712079c-7.918807-7.987072-3.925271-17.953846 15.974144-19.933548l546.363525-39.79883c45.840333-3.993536 69.767417 11.946476 87.721263 25.872653l93.728634 67.71945c3.993536 1.979702 13.926177 13.892044 1.979702 13.892044l-564.249106 33.859725-6.963088 0.477859zM220.471864 904.189138V310.961297c0-25.906785 7.952939-37.853261 31.880024-39.867096l648.010965-37.819128c21.981515-1.979702 31.948289 11.946476 31.948289 37.819128v589.268439c0 25.906785-3.993536 47.820035-39.935361 49.799736l-620.090346 35.839427c-35.873559 1.979702-51.813571-9.932641-51.813571-41.812665z m612.171539-561.416084c3.959403 17.919713 0 35.839427-17.987979 37.887394l-29.900321 5.904972v437.991926c-25.940918 13.926177-49.833869 21.879117-69.767417 21.879116-31.914156 0-39.935361-9.966774-63.828313-39.79883l-195.444339-306.580694v296.613921l61.84861 13.96031s0 35.839427-49.902135 35.839426l-137.555132 7.95294c-3.959403-7.987072 0-27.886487 13.994443-31.845891l35.839426-9.932641v-392.185725l-49.833869-4.027669c-3.959403-17.919713 5.973238-43.792366 33.92799-45.772068l147.55604-9.966773 203.397279 310.608363v-274.768937l-51.881837-5.939105c-3.959403-21.947382 11.946476-37.853261 31.914156-39.832962l137.623398-7.987073z",fill:"#000000","p-id":"5095"})]),(0,l.Lk)("span",{class:"form-header-title"},"Notion")],-1))),Me={class:"el-dropdown-button"},Ze={class:"el-dropdown-link"};var qe={__name:"setting_form",props:["pageTitle","pageSecret","pageId","uuId","pageSyncType"],emits:["updateConfig"],setup(e,{emit:t}){const o=(0,k.KR)(),n=e,r=t,c=(0,k.KR)(!1),s=(0,k.KR)([]),i=(0,k.Kh)({pageSyncType:[{required:!0,message:"请选择同步类型",trigger:"blur"}],pageTitle:[{required:!0,message:"请填写名称",trigger:"blur"}],pageSecret:[{required:!0,message:"请填写page sccret",trigger:"blur"}],pageId:[{required:!0,message:"请填写 page id",trigger:"blur"}]}),u=(0,k.Kh)({pageSyncType:"page",pageTitle:"",pageSecret:"",pageId:"",uuId:""});(0,l.nT)((()=>{u.pageSyncType=n.pageSyncType,u.pageTitle=n.pageTitle,u.pageSecret=n.pageSecret,u.pageId=n.pageId,u.uuId=n.uuId}));const d=e=>{e&&e.validate((e=>{e&&r("updateConfig",{...u})}))},v=()=>{r("deleteConfig",{...u})},b=e=>{s.value=[],e&&e.validateField("pageSyncType",(t=>{t&&e.validateField("pageSecret",(async e=>{if(e){const e=W.Ks.service({lock:!0,text:"获取页面中...",background:"rgba(0, 0, 0, 0.7)"});try{const e=await B(u.pageSyncType,u.pageSecret);if(e&&e.results&&e.results.length>0)if("page"===u.pageSyncType)for(const t in e.results){const o=e.results[t],a=o.parent.type;let l="";l="database_id"!=a?o?.properties?.title?.title[0]?.plain_text||"":o?.properties?.Name?.title[0]?.plain_text||"",s.value.push({pageId:o.id,plainTitle:l})}else if("database"===u.pageSyncType)for(const t in e.results){const o=e.results[t];s.value.push({pageId:o.id,plainTitle:""|o?.title[0]?.plain_text})}c.value=!0}finally{e.close()}}}))}))},h=e=>{u.pageId=e},g=()=>{u.pageId=""};return(e,t)=>{const n=Re.P9,r=Re.AV,f=Ie.xE,m=Ke.WK,y=Se.S2,w=p.tk,x=Fe.c6,_=Fe.Iy,L=Fe.dW,T=Ie.US;return(0,l.uX)(),(0,l.CE)("div",je,[Ae,(0,l.bF)(T,{ref_key:"ruleFormRef",ref:o,model:u,"status-icon":"",rules:i,"label-width":"auto",class:"demo-ruleForm"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{label:"同步类型",prop:"pageSyncType"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{modelValue:u.pageSyncType,"onUpdate:modelValue":t[0]||(t[0]=e=>u.pageSyncType=e),placeholder:"数据库或者页面",onChange:t[1]||(t[1]=e=>g())},{default:(0,l.k6)((()=>[(0,l.bF)(n,{label:"数据库",key:"database",value:"database"}),(0,l.bF)(n,{label:"页面",key:"page",value:"page"})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(f,{label:"名称",prop:"pageTitle"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:u.pageTitle,"onUpdate:modelValue":t[2]||(t[2]=e=>u.pageTitle=e),type:"text",autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,{label:"Secret Key",prop:"pageSecret"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:u.pageSecret,"onUpdate:modelValue":t[3]||(t[3]=e=>u.pageSecret=e),type:"text",autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,{label:"页面ID",prop:"pageId"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:u.pageId,"onUpdate:modelValue":t[4]||(t[4]=e=>u.pageId=e),type:"text"},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{type:"primary",onClick:t[5]||(t[5]=e=>d(o.value))},{default:(0,l.k6)((()=>[(0,l.eW)(" 保存配置 ")])),_:1}),(0,l.bF)(y,{onClick:t[6]||(t[6]=e=>v())},{default:(0,l.k6)((()=>[(0,l.eW)("删除")])),_:1}),(0,l.bF)(y,{onClick:t[7]||(t[7]=e=>b(o.value))},{default:(0,l.k6)((()=>[(0,l.eW)("获取页面ID")])),_:1}),(0,l.bo)((0,l.Lk)("div",Me,[(0,l.bF)(L,{onCommand:h},{dropdown:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(x,{command:e.pageId,key:t},{default:(0,l.k6)((()=>[(0,l.eW)((0,A.v_)(e.plainTitle),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:(0,l.k6)((()=>[(0,l.Lk)("span",Ze,[(0,l.eW)(" 选择页面ID "),(0,l.bF)(w,{class:"el-icon--right"},{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(C.yd$))])),_:1})])])),_:1})],512),[[a.aG,c.value]])])),_:1})])),_:1},8,["model","rules"])])}}};const Ee=(0,c.A)(qe,[["__scopeId","data-v-0d14c6a7"]]);var Xe=Ee;const Oe={class:"content"},Ue={class:"wx-setting-list"};var Be={__name:"index",setup(e){const t=(0,k.KR)([]),o=(0,k.KR)([]),a=()=>{t.value.length<o.value.length?(0,b.nk)({message:"请先保存配置，再添加新配置！",type:"error"}):o.value.push({pageSyncType:"page",pageTitle:"",pageSecret:"",pageId:"",uuId:Te()})},n=async e=>{const a=c(o,e.uuId);-1!=a&&(o.value[a]={...e});const l=t.value.filter((t=>t.uuId!=e.uuId));l.push({...e}),t.value=l,await y(l),(0,b.nk)({message:"保存成功！",type:"success"})},r=async e=>{const a=c(o,e.uuId);-1!=a&&o.value.splice(a,1);const l=c(t,e.uuId);if(-1!=l){const o=t.value.filter((t=>t.uuId!=e.uuId));t.value=o,await y(o)}(0,b.nk)({message:"删除成功！",type:"success"})},c=(e,t)=>{const o=e.value;for(let a=0;a<o.length;a++){const e=o[a];if(e.uuId===t)return a}return-1};return(0,l.sV)((async()=>{const e=await w();e&&(o.value=[...e],t.value=[...e])})),(e,t)=>((0,l.uX)(),(0,l.CE)("div",Oe,[(0,l.Lk)("div",Ue,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,((e,t)=>((0,l.uX)(),(0,l.Wv)((0,k.R1)(Xe),{key:t,pageTitle:e.pageTitle,pageSecret:e.pageSecret,pageId:e.pageId,uuId:e.uuId,pageSyncType:e.pageSyncType,onUpdateConfig:n,onDeleteConfig:r},null,8,["pageTitle","pageSecret","pageId","uuId","pageSyncType"])))),128))]),(0,l.Lk)("div",{id:"wx-add-config",onClick:t[0]||(t[0]=e=>a())},"添加新配置")]))}};const We=(0,c.A)(Be,[["__scopeId","data-v-9d0ed926"]]);var ze=We;const Pe=e=>((0,l.Qi)("data-v-c9466c86"),e=e(),(0,l.jt)(),e),De={class:"sync-setting-title"},He={class:"sync-logo"},Ne=["onClick"],Qe=Pe((()=>(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 16 16",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.875C8.82843 3.875 9.5 3.20343 9.5 2.375C9.5 1.54657 8.82843 0.875 8 0.875C7.17157 0.875 6.5 1.54657 6.5 2.375C6.5 3.20343 7.17157 3.875 8 3.875ZM5.83234 2.72826C5.63677 2.36312 5.18223 2.22565 4.81709 2.42122C4.62229 2.52556 4.43277 2.6394 4.2492 2.76229C3.88195 3.00815 3.53953 3.28953 3.22703 3.60203C2.64333 4.18573 2.17011 4.87183 1.83335 5.62635C1.64594 6.04623 1.5018 6.485 1.4037 6.93682C1.3529 7.17079 1.31452 7.40792 1.28882 7.64744C1.24462 8.05929 1.54266 8.42898 1.95451 8.47318C2.36636 8.51737 2.73606 8.21933 2.78025 7.80748C2.80025 7.62118 2.83008 7.43687 2.86955 7.2551C2.94571 6.90431 3.05759 6.56373 3.20311 6.23771C3.46491 5.65114 3.83318 5.11719 4.28769 4.66269C4.53109 4.41929 4.79776 4.20015 5.08365 4.00876C5.22645 3.91316 5.37384 3.82463 5.5253 3.74351L5.54225 3.73415C5.89466 3.53376 6.02485 3.08769 5.83234 2.72826ZM12.2677 12.6583C12.0138 12.331 11.5426 12.2716 11.2154 12.5255C11.0106 12.6844 10.7945 12.828 10.5687 12.9549C9.79101 13.3922 8.91329 13.625 8 13.625C7.08671 13.625 6.20899 13.3922 5.4313 12.9549C5.20551 12.828 4.98936 12.6844 4.78463 12.5255C4.45738 12.2716 3.98624 12.331 3.7323 12.6583C3.47837 12.9855 3.5378 13.4566 3.86505 13.7106C4.12808 13.9147 4.40587 14.0992 4.69616 14.2624C5.69688 14.8251 6.82752 15.125 8 15.125C9.17248 15.125 10.3031 14.8251 11.3038 14.2624C11.5941 14.0992 11.8719 13.9147 12.135 13.7106C12.4622 13.4566 12.5216 12.9855 12.2677 12.6583ZM10.1677 2.72826C10.3632 2.36312 10.8178 2.22565 11.1829 2.42122C11.3777 2.52556 11.5672 2.6394 11.7508 2.76229C12.1181 3.00815 12.4605 3.28953 12.773 3.60203C13.3567 4.18573 13.8299 4.87183 14.1667 5.62635C14.3541 6.04623 14.4982 6.485 14.5963 6.93682C14.6471 7.17079 14.6855 7.40792 14.7112 7.64744C14.7554 8.05929 14.4573 8.42898 14.0455 8.47318C13.6336 8.51737 13.2639 8.21933 13.2197 7.80748C13.1998 7.62118 13.1699 7.43687 13.1305 7.2551C13.0543 6.90431 12.9424 6.56373 12.7969 6.23771C12.5351 5.65114 12.1668 5.11719 11.7123 4.66269C11.4689 4.41929 11.2022 4.20015 10.9164 4.00876C10.7939 3.92682 10.6682 3.85007 10.5394 3.77872L10.4747 3.74351C10.1096 3.54794 9.97209 3.0934 10.1677 2.72826ZM15.125 10.6875C15.125 11.5159 14.4534 12.1875 13.625 12.1875C12.7966 12.1875 12.125 11.5159 12.125 10.6875C12.125 9.85907 12.7966 9.1875 13.625 9.1875C14.4534 9.1875 15.125 9.85907 15.125 10.6875ZM2.375 12.1875C3.20343 12.1875 3.875 11.5159 3.875 10.6875C3.875 9.85907 3.20343 9.1875 2.375 9.1875C1.54657 9.1875 0.875 9.85907 0.875 10.6875C0.875 11.5159 1.54657 12.1875 2.375 12.1875Z",fill:"black"})],-1))),Ge=[Qe],$e={class:"show-notion-dialog"},Je=Pe((()=>(0,l.Lk)("svg",{fill:"none",height:"94",viewBox:"0 0 97 94",width:"97",xmlns:"http://www.w3.org/2000/svg",class:"notion-svg"},[(0,l.Lk)("g",{fill:"#f9e44b"},[(0,l.Lk)("ellipse",{cx:"11.9076",cy:"45.9248","fill-opacity":".8",opacity:".674735",rx:"4.00844",ry:"4"}),(0,l.Lk)("ellipse",{cx:"30.8972",cy:"90.1408","fill-opacity":".8",opacity:".22905",rx:"3.79792",ry:"3.78993"}),(0,l.Lk)("ellipse",{cx:"72.6744",cy:"33.2917","fill-opacity":".8",opacity:".484235",rx:"2.00422",ry:"2"}),(0,l.Lk)("ellipse",{cx:"67.6105",cy:"83.8242","fill-opacity":".8",opacity:".737816",rx:"3.00633",ry:"3"})]),(0,l.Lk)("path",{d:"m45.4054 20.0436s-3.9919 2.3785-8.1341-1.0833-2.9464-11.07293 2.7061-12.95131c5.6525-1.87839 9.2382 7.98821.6597 8.67541-8.5784.6872-11.9683-12.79231-11.9683-12.79231",opacity:".588309",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{d:"m7.94299 72.1455-5.94299 2.898",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{d:"m81.1293 55.7027s.7132 4.1129 3.7551 3.721c3.0419-.392 6.6574-7.6925 9.9593-3.721",opacity:".636533",stroke:"#f9e44b","stroke-linecap":"round","stroke-width":"3.05882"}),(0,l.Lk)("path",{"clip-rule":"evenodd",d:"m28.3143 53.9309c0-10.2334 8.2959-18.5293 18.5294-18.5293 10.2336 0 18.5294 8.2959 18.5294 18.5293s-8.2958 18.5293-18.5294 18.5293c-10.2335 0-18.5294-8.2959-18.5294-18.5293zm27.6524-6.4684c-.6394-.6527-1.6869-.6634-2.3396-.024l-9.3123 9.1231-4.2546-4.1669-.036-.0343c-.6548-.6044-1.6759-.5823-2.3036.0586-.6393.6528-.6284 1.7002.0244 2.3396l5.4124 5.3009.0361.0343c.6451.5955 1.648.584 2.2793-.0345l10.4699-10.2573.035-.0352c.6179-.6421.6168-1.6635-.011-2.3043z",fill:"#f9e44b","fill-rule":"evenodd"})],-1))),Ye=Pe((()=>(0,l.Lk)("div",{class:"font-black-success"},"同步成功",-1)));var et={__name:"sync_single",props:["bookTitle","bookAuthor","bookCover","clickCardItem","headerTitle"],setup(e){const t=e,o=(0,k.KR)([]),a=(0,k.KR)(!1),n=(0,k.KR)(""),r=(0,k.KR)("");(0,l.sV)((async()=>{const e=await w();e&&(o.value=[...e]),r.value=await _()}));const c=async e=>{const o=W.Ks.service({lock:!0,text:"正在同步中...",background:"rgba(0, 0, 0, 0.7)"});try{const o=t.clickCardItem,l=[{type:"quote",content:o.content}];o.calloutContent&&o.calloutContent.length>0&&l.push({type:"callout",content:o.calloutContent});const r=[{headerTitle:t.headerTitle,children:l}];n.value=await U(e.pageId,e.pageSecret,t.bookTitle,t.bookAuthor,t.bookCover,e.pageSyncType,r),a.value=!0}finally{o.close()}},s=()=>{window.open(n.value,"_blank")};return(e,t)=>{const n=V.R7,r=R.kZ;return(0,l.uX)(),(0,l.CE)(l.FK,null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"sync-card",key:t},[(0,l.Lk)("div",De,(0,A.v_)(e.pageTitle),1),(0,l.Lk)("div",He,[(0,l.bF)(n,{effect:"dark",content:"同步",placement:"top-start"},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{type:"button",style:{border:"none"},onClick:t=>c(e)},Ge,8,Ne)])),_:2},1024)])])))),128)),(0,l.bF)(r,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),"close-on-press-escape":!1,width:"400"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",$e,[Je,Ye,(0,l.Lk)("div",{onClick:t[0]||(t[0]=e=>s()),class:"view-notion-url"},"立即查看")])])),_:1},8,["modelValue"])],64)}}};const tt=(0,c.A)(et,[["__scopeId","data-v-c9466c86"]]);var ot=tt;const at={class:"wx-card-abstract"},lt=(0,l.Lk)("div",{class:"wx-card-line card-space"},null,-1),nt={class:"wx-card-content card-space"},rt=["onClick"],ct=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[(0,l.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.875C8.82843 3.875 9.5 3.20343 9.5 2.375C9.5 1.54657 8.82843 0.875 8 0.875C7.17157 0.875 6.5 1.54657 6.5 2.375C6.5 3.20343 7.17157 3.875 8 3.875ZM5.83234 2.72826C5.63677 2.36312 5.18223 2.22565 4.81709 2.42122C4.62229 2.52556 4.43277 2.6394 4.2492 2.76229C3.88195 3.00815 3.53953 3.28953 3.22703 3.60203C2.64333 4.18573 2.17011 4.87183 1.83335 5.62635C1.64594 6.04623 1.5018 6.485 1.4037 6.93682C1.3529 7.17079 1.31452 7.40792 1.28882 7.64744C1.24462 8.05929 1.54266 8.42898 1.95451 8.47318C2.36636 8.51737 2.73606 8.21933 2.78025 7.80748C2.80025 7.62118 2.83008 7.43687 2.86955 7.2551C2.94571 6.90431 3.05759 6.56373 3.20311 6.23771C3.46491 5.65114 3.83318 5.11719 4.28769 4.66269C4.53109 4.41929 4.79776 4.20015 5.08365 4.00876C5.22645 3.91316 5.37384 3.82463 5.5253 3.74351L5.54225 3.73415C5.89466 3.53376 6.02485 3.08769 5.83234 2.72826ZM12.2677 12.6583C12.0138 12.331 11.5426 12.2716 11.2154 12.5255C11.0106 12.6844 10.7945 12.828 10.5687 12.9549C9.79101 13.3922 8.91329 13.625 8 13.625C7.08671 13.625 6.20899 13.3922 5.4313 12.9549C5.20551 12.828 4.98936 12.6844 4.78463 12.5255C4.45738 12.2716 3.98624 12.331 3.7323 12.6583C3.47837 12.9855 3.5378 13.4566 3.86505 13.7106C4.12808 13.9147 4.40587 14.0992 4.69616 14.2624C5.69688 14.8251 6.82752 15.125 8 15.125C9.17248 15.125 10.3031 14.8251 11.3038 14.2624C11.5941 14.0992 11.8719 13.9147 12.135 13.7106C12.4622 13.4566 12.5216 12.9855 12.2677 12.6583ZM10.1677 2.72826C10.3632 2.36312 10.8178 2.22565 11.1829 2.42122C11.3777 2.52556 11.5672 2.6394 11.7508 2.76229C12.1181 3.00815 12.4605 3.28953 12.773 3.60203C13.3567 4.18573 13.8299 4.87183 14.1667 5.62635C14.3541 6.04623 14.4982 6.485 14.5963 6.93682C14.6471 7.17079 14.6855 7.40792 14.7112 7.64744C14.7554 8.05929 14.4573 8.42898 14.0455 8.47318C13.6336 8.51737 13.2639 8.21933 13.2197 7.80748C13.1998 7.62118 13.1699 7.43687 13.1305 7.2551C13.0543 6.90431 12.9424 6.56373 12.7969 6.23771C12.5351 5.65114 12.1668 5.11719 11.7123 4.66269C11.4689 4.41929 11.2022 4.20015 10.9164 4.00876C10.7939 3.92682 10.6682 3.85007 10.5394 3.77872L10.4747 3.74351C10.1096 3.54794 9.97209 3.0934 10.1677 2.72826ZM15.125 10.6875C15.125 11.5159 14.4534 12.1875 13.625 12.1875C12.7966 12.1875 12.125 11.5159 12.125 10.6875C12.125 9.85907 12.7966 9.1875 13.625 9.1875C14.4534 9.1875 15.125 9.85907 15.125 10.6875ZM2.375 12.1875C3.20343 12.1875 3.875 11.5159 3.875 10.6875C3.875 9.85907 3.20343 9.1875 2.375 9.1875C1.54657 9.1875 0.875 9.85907 0.875 10.6875C0.875 11.5159 1.54657 12.1875 2.375 12.1875Z",fill:"black"})],-1),st=[ct];var it={__name:"chapter_card",props:["chapterItem","bookTitle","bookAuthor","bookCover"],setup(e){const t=e,o=(0,k.KR)(!1),a=(0,k.KR)(),n=e=>{o.value=!0,a.value=e},r=(0,l.EW)((()=>t.chapterItem.children.filter((e=>"quote"===e.type))));return(t,c)=>{const s=R.kZ;return(0,l.uX)(),(0,l.CE)(l.FK,null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"wx-card",key:t},[(0,l.Lk)("div",null,[(0,l.Lk)("div",at,(0,A.v_)(e.content),1),lt,(0,l.Lk)("div",nt,[(0,l.Lk)("div",null,(0,A.v_)(e.calloutContent||""),1),(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"button",class:"wx-book-content-sync",onClick:t=>n(e)},st,8,rt)])])])])))),128)),(0,l.bF)(s,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=e=>o.value=e),title:"同步","close-on-press-escape":!1,width:"800"},{default:(0,l.k6)((()=>[(0,l.bF)(ot,{bookTitle:e.bookTitle,bookAuthor:e.bookAuthor,bookCover:e.bookCover,clickCardItem:a.value,headerTitle:e.chapterItem.headerTitle},null,8,["bookTitle","bookAuthor","bookCover","clickCardItem","headerTitle"])])),_:1},8,["modelValue"])],64)}}};const ut=it;var dt=ut;const pt=e=>((0,l.Qi)("data-v-29ee0329"),e=e(),(0,l.jt)(),e),kt={class:"content"},Ct={class:"wx-book-page"},vt={class:"wx-book-cover"},bt={class:"image-slot"},ht={class:"wx-book-title"},gt={class:"wx-book-author"},ft={class:"wx-info"},mt={class:"wx-info-header"},yt={class:"wx-info-abstract"},wt={class:"wx-info-line"},xt={class:"wx-info-idea"},_t=pt((()=>(0,l.Lk)("span",null,"全部同步",-1))),Lt=[_t],Tt={class:"wx-list"};var It={__name:"index",setup(e){const t=(0,L.lq)(),o=(0,k.KR)(""),a=(0,k.Kh)({bookTitle:"",bookAuthor:"",bookCover:"",bookmarklistCount:0,reviewCount:0,chapterChildren:[]}),n=(0,k.KR)(!1);return(0,l.sV)((async()=>{o.value=t.params.bookId;const e=await E(o.value);a.bookTitle=e.bookTitle,a.bookAuthor=e.bookAuthor,a.bookCover=e.bookCover,a.bookmarklistCount=e.bookmarklistCount,a.reviewCount=e.reviewCount,a.chapterChildren=[...e.chapterChildren]})),(e,t)=>{const r=(0,l.g2)("icon-picture"),c=p.tk,s=j.Zq,i=R.kZ;return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",kt,[(0,l.Lk)("div",Ct,[(0,l.Lk)("div",vt,[(0,l.bF)(s,{src:a.bookCover},{error:(0,l.k6)((()=>[(0,l.Lk)("div",bt,[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(r)])),_:1})])])),_:1},8,["src"])]),(0,l.Lk)("div",ht,(0,A.v_)(a.bookTitle),1),(0,l.Lk)("div",gt,(0,A.v_)(a.bookAuthor),1)]),(0,l.Lk)("div",ft,[(0,l.Lk)("div",mt,[(0,l.Lk)("div",yt,[(0,l.Lk)("span",wt,(0,A.v_)(a.bookmarklistCount),1),(0,l.eW)(" 条划线 "),(0,l.Lk)("span",xt,(0,A.v_)(a.reviewCount),1),(0,l.eW)(" 条想法 ")]),(0,l.Lk)("div",{class:"wx-all-sync",onClick:t[0]||(t[0]=e=>n.value=!0)},Lt)]),(0,l.Lk)("div",Tt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.chapterChildren,((e,t)=>((0,l.uX)(),(0,l.Wv)(dt,{key:t,chapterItem:e,bookTitle:a.bookTitle,bookAuthor:a.bookAuthor,bookCover:a.bookCover},null,8,["chapterItem","bookTitle","bookAuthor","bookCover"])))),128))])])]),(0,l.bF)(i,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),title:"同步","close-on-press-escape":!1,width:"800"},{default:(0,l.k6)((()=>[(0,l.bF)((0,k.R1)(te),{bookId:o.value},null,8,["bookId"])])),_:1},8,["modelValue"])],64)}}};const Ft=(0,c.A)(It,[["__scopeId","data-v-29ee0329"]]);var St=Ft;const Kt=e=>((0,l.Qi)("data-v-a68cd4ac"),e=e(),(0,l.jt)(),e),Rt={class:"wx-login"},Vt={class:"wx-header"},jt={class:"wx-logo"},At=Kt((()=>(0,l.Lk)("img",{src:"/logo/logo.svg"},null,-1))),Mt=Kt((()=>(0,l.Lk)("div",{class:"wx-title"},"SyncChat",-1))),Zt=Kt((()=>(0,l.Lk)("div",{class:"wx-remark"},"同步读书笔记",-1))),qt={class:"wx-footer"},Et=Kt((()=>(0,l.Lk)("div",{class:"wx-remark"},"使用 SyncChat, 请先完成微信读书登录",-1)));var Xt={__name:"index",setup(e){const t=()=>{window.open("https://weread.qq.com/","_blank")};return(e,o)=>{const a=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Rt,[(0,l.Lk)("div",Vt,[(0,l.Lk)("div",jt,[(0,l.bF)(a,{to:"/"},{default:(0,l.k6)((()=>[At])),_:1})]),Mt,Zt]),(0,l.Lk)("div",qt,[(0,l.Lk)("div",{class:"wx-read-button",onClick:o[0]||(o[0]=e=>t())}," 登陆微信读书网页端 "),Et])])}}};const Ot=(0,c.A)(Xt,[["__scopeId","data-v-a68cd4ac"]]);var Ut=Ot;const Bt=[{path:"/",name:"Home",component:K,children:[{path:"/bookHome",name:"BookHome",component:Le},{path:"/setting",name:"Setting",component:ze},{path:"/bookDetail/:bookId",name:"BookDetail",component:St}]},{path:"/login",name:"Login",component:Ut}],Wt=(0,L.aE)({history:(0,L.Bt)(),routes:Bt});var zt=Wt;const Pt=(0,a.Ef)(i);Pt.use(zt).mount("#app")},477:function(){}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,l,n){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],n=e[u][2];for(var c=!0,s=0;s<a.length;s++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(c=!1,n<r&&(r=n));if(c){e.splice(u--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,l,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,n,r=a[0],c=a[1],s=a[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(l in c)o.o(c,l)&&(o.m[l]=c[l]);if(s)var u=s(o)}for(t&&t(a);i<r.length;i++)n=r[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkwx_notion"]=self["webpackChunkwx_notion"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(9787)}));a=o.O(a)})();
//# sourceMappingURL=app.f77a23be.js.map